(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d1e06772"],{"1a3e":function(t,a,e){"use strict";e.r(a);var s=e("7a23");const c={class:"d-flex flex-column align-items-center justify-content-center"},o={key:0},i=Object(s["g"])("h2",{class:"pt-5 text-center"}," Posts ",-1),n={key:1,class:"p-3"};function p(t,a,e,p,r,l){const d=Object(s["w"])("Profile"),b=Object(s["w"])("CreatePost"),j=Object(s["w"])("Post");return Object(s["p"])(),Object(s["d"])(s["a"],null,[Object(s["g"])("div",c,[Object(s["g"])(d)]),p.state.account.id===p.state.activeProfile.id?(Object(s["p"])(),Object(s["d"])("div",o,[Object(s["g"])(b)])):Object(s["e"])("",!0),i,(Object(s["p"])(!0),Object(s["d"])(s["a"],null,Object(s["v"])(p.state.posts,t=>(Object(s["p"])(),Object(s["d"])(j,{key:t.id,post:t},null,8,["post"]))),128)),p.state.postPage?(Object(s["p"])(),Object(s["d"])("div",n,[Object(s["g"])("span",null,Object(s["y"])(p.state.postPage.page),1),Object(s["g"])("div",null,[p.state.postPage.newer?(Object(s["p"])(),Object(s["d"])("button",{key:0,class:"btn btn-outline-secondary mx-5",onClick:a[1]||(a[1]=t=>p.loadPage(-1))}," previous posts ")):Object(s["e"])("",!0),p.state.postPage.older?(Object(s["p"])(),Object(s["d"])("button",{key:1,class:"btn btn-outline-secondary mx-5",onClick:a[2]||(a[2]=t=>p.loadPage(1))}," more posts ")):Object(s["e"])("",!0)])])):Object(s["e"])("",!0)],64)}var r=e("a1e9"),l=e("83fc"),d=e("5c40"),b=e("6c3f"),j=e("6c02"),u=e("5d40"),O=e("7ee9"),g={name:"ProfilePage",setup(){const t=Object(j["c"])(),a=Object(r["i"])({account:Object(d["d"])(()=>l["a"].account),posts:Object(d["d"])(()=>l["a"].posts),activeProfile:Object(d["d"])(()=>l["a"].activeProfile),postPage:Object(d["d"])(()=>l["a"].postPage)});return Object(d["N"])(async()=>{try{t.params.id&&await b["a"].getProfileById(t.params.id)}catch(a){u["a"].toast(a)}try{t.params.id&&await b["a"].getProfilePosts(t.params.id)}catch(a){u["a"].toast(a)}}),{state:a,async loadPage(a){try{l["a"].pageNum+=a,await b["a"].getProfilePosts(t.params.id,l["a"].pageNum),window.scrollTo({top:0,behavior:"smooth"})}catch(e){u["a"].toast(e)}try{l["a"].pageNum+=a,await O["a"].searchPosts(t.params.id,l["a"].pageNum),window.scrollTo({top:0,behavior:"smooth"})}catch(e){u["a"].toast(e)}}}}};g.render=p;a["default"]=g},"6c3f":function(t,a,e){"use strict";e.d(a,"a",(function(){return i}));var s=e("83fc"),c=e("2b20");class o{async getProfileById(t){const a=await c["a"].get("api/profiles/"+t);s["a"].activeProfile=a.data}async getProfilesByQuery(t){const a=await c["a"].get("api/profiles?query="+t);s["a"].profiles=a.data}async getProfilePosts(t){const a=await c["a"].get("api/profiles/"+t+"/posts");s["a"].posts=a.data.posts,s["a"].postPage=a.data}async queryProfilePosts(t,a){const e=await c["a"].get("api/profiles/"+t+"/posts?page="+a);s["a"].posts=e.data.posts,s["a"].postPage=e.data}async editProfile(t,a){const e=await c["a"].put("api/profiles/"+t,a);s["a"].account=e.data}}const i=new o}}]);